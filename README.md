## Тестовое задание

Сделать сервис по работе с балансами.

Нужно реализовать:

* [x] `REST API` добавление пользователя;
* [x] `REST API` добавление транзакции (`DEPOSIT` или `WITHDRAW`);
* [x] `REST API` получить информацию о транзакции;
* [x] `REST API` получить текущий баланс пользователя (без селекта всех транзакций) или баланс за дату 
  (например, запрос "сколько у Васи было денег 5.05.2022 00:00")

Дополнительно:

* [ ] учесть, что сервис будет запускаться в k8s.

  Я много работал с `Docker`, `docker-compose`, `doсker-swarm`, но с `k8s` - только как разработчик-потребитель.

* [x] учесть, что архитектура должна гарантировать обработку транзакции ровно 1 раз. 
  Какие требования это накладывает на сам сервис и соседние сервисы?

  В коде добавления транзакции обошлись только `SELECT FOR UPDATE`

* [x] описать (можно не реализовывать), как можно реализовать уведомление других сервисов о транзакциях. 
  Например, уведомить рекламный движок, который работает при наличии средств на счету.

  Попробую использовать `fastapi_events`, добавлю оповещения через так всеми любимую 
  сейчас `Kafka` или добавлю плагины, чтобы и `RabbitMQ` не обижать.
  
  Это будет продолжением для приложения. Я попробую довести его до состояния для показа.
  Только, как человек, разрабатывающий несколко раз приложения для банков и бухгалтерии, отделю
  пользователей от балансов, чего здесь пока не стал делать.

* [x] тезисно перечислить, какие инструменты можно применить для контроля качества работы сервиса.

  Я использовал `Pylint`, `mypy`, `ruff`.

* [x] гарантировать, что баланс пользователя не может быть отрицательным.

  Пока только добавил ограничения в модель (`sa.CheckConstraint`) и схему.

На все про все чистого времени ушло немногим больше 2 часов, а полного - часа 4.